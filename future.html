<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>æ‰“å¡100ï½œguoguoandmiemie</title>
  <link rel="stylesheet" href="./style.css" />
  <style>
    .wrap{max-width:980px;margin:0 auto;padding:18px 16px 40px;}
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:14px;}
    .topbar a{text-decoration:none;}
    .h1{font-size:22px;font-weight:800;letter-spacing:.5px;}
    .sub{opacity:.75;font-size:13px;line-height:1.5;}
    .controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin:14px 0 10px;}
    .input{flex:1;min-width:210px;}
    .input input{width:100%;padding:10px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.16);background:rgba(0,0,0,.22);color:inherit;outline:none;}
    .seg{display:flex;gap:8px;flex-wrap:wrap;}
    .seg button{padding:9px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.16);background:rgba(0,0,0,.22);color:inherit;cursor:pointer;}
    .seg button.active{background:rgba(255,255,255,.12);border-color:rgba(255,255,255,.22);}
    .progress{margin:10px 0 16px;}
    .bar{height:10px;border-radius:999px;background:rgba(255,255,255,.12);overflow:hidden;}
    .bar > div{height:100%;width:0%;background:rgba(255,255,255,.70);}
    .ptext{font-size:13px;opacity:.8;margin-top:8px;display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;}
    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;}
    @media (max-width:720px){.grid{grid-template-columns:1fr;}}
    .card{border-radius:18px;border:1px solid rgba(255,255,255,.14);background:rgba(0,0,0,.20);padding:12px 12px;display:flex;gap:10px;align-items:flex-start;}
    .num{width:34px;height:34px;border-radius:12px;background:rgba(255,255,255,.10);display:flex;align-items:center;justify-content:center;font-weight:800;}
    .main{flex:1;}
    .label{display:flex;gap:10px;align-items:flex-start;cursor:pointer;}
    .label input{transform:translateY(2px);width:18px;height:18px;}
    .text{font-size:15px;line-height:1.45;}
    .muted{opacity:.65;font-size:12px;margin-top:4px;}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;}
    .actions button{padding:9px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.16);background:rgba(0,0,0,.22);color:inherit;cursor:pointer;}
    .toast{position:fixed;left:50%;bottom:20px;transform:translateX(-50%);background:rgba(0,0,0,.78);border:1px solid rgba(255,255,255,.18);color:#fff;padding:10px 12px;border-radius:14px;opacity:0;pointer-events:none;transition:.25s;}
    .toast.show{opacity:1;}
  </style>
</head>
<body>
<div class="hearts" aria-hidden="true">
  <div class="heart" style="left:4%; animation-duration:10s; animation-delay:-0s;">ğŸ’—</div>
  <div class="heart" style="left:12%; animation-duration:12s; animation-delay:-1s;">ğŸ’–</div>
  <div class="heart" style="left:20%; animation-duration:14s; animation-delay:-2s;">ğŸ’</div>
  <div class="heart" style="left:28%; animation-duration:16s; animation-delay:-3s;">ğŸ’—</div>
  <div class="heart" style="left:36%; animation-duration:18s; animation-delay:-4s;">ğŸ’–</div>
  <div class="heart" style="left:44%; animation-duration:20s; animation-delay:-5s;">ğŸ’</div>
  <div class="heart" style="left:52%; animation-duration:10s; animation-delay:-6s;">ğŸ’—</div>
  <div class="heart" style="left:60%; animation-duration:12s; animation-delay:-0s;">ğŸ’–</div>
  <div class="heart" style="left:68%; animation-duration:14s; animation-delay:-1s;">ğŸ’</div>
  <div class="heart" style="left:76%; animation-duration:16s; animation-delay:-2s;">ğŸ’—</div>
  <div class="heart" style="left:84%; animation-duration:18s; animation-delay:-3s;">ğŸ’–</div>
  <div class="heart" style="left:92%; animation-duration:20s; animation-delay:-4s;">ğŸ’</div>
</div>

  <div class="wrap">
    <div class="topbar">
      <div>
        <div class="h1">æƒ…ä¾£æ‰“å¡100ä»¶äº‹</div>
        <div class="sub">å¯ä»¥æ‰“å‹¾âœ…ï¼Œä¼šè‡ªåŠ¨ä¿å­˜ï¼ˆåŒä¸€è®¾å¤‡/åŒä¸€æµè§ˆå™¨é‡Œé•¿æœŸæœ‰æ•ˆï¼‰ã€‚ä½ ä»¬å®Œæˆä¸€ä»¶ï¼Œå°±æ¥æ‰“ä¸€ä¸‹å‹¾ã€‚</div>
      </div>
      <a class="btn" href="./index.html">è¿”å›é¦–é¡µ</a>
    </div>

    <div class="controls">
      <div class="input">
        <input id="q" placeholder="æœç´¢å…³é”®è¯ï¼Œæ¯”å¦‚ï¼šæµ·è¾¹ / ç”µå½± / æ—…è¡Œâ€¦" />
      </div>
      <div class="seg" role="tablist" aria-label="ç­›é€‰">
        <button id="f_all" class="active" data-filter="all">å…¨éƒ¨</button>
        <button id="f_done" data-filter="done">å·²æ‰“å‹¾</button>
        <button id="f_todo" data-filter="todo">æœªæ‰“å‹¾</button>
      </div>
      <div class="actions">
        <button id="btnExport" title="å¯¼å‡ºå¤‡ä»½ï¼ˆJSONï¼‰">å¯¼å‡ºå¤‡ä»½</button>
        <button id="btnImport" title="å¯¼å…¥å¤‡ä»½ï¼ˆJSONï¼‰">å¯¼å…¥å¤‡ä»½</button>
        <button id="btnReset" title="æ¸…ç©ºæ‰€æœ‰å‹¾é€‰">æ¸…ç©ºå‹¾é€‰</button>
      </div>
    </div>

    <div class="progress">
      <div class="bar"><div id="barFill"></div></div>
      <div class="ptext">
        <div id="pLeft">å·²å®Œæˆ 0 / 100</div>
        <div id="pRight">å®Œæˆç‡ 0%</div>
      </div>
    </div>

    <div class="grid" id="list"></div>
  </div>

  <input id="filePick" type="file" accept="application/json" style="display:none" />
  <div class="toast" id="toast">å·²ä¿å­˜</div>

  <script id="futureData" type="application/json">
[
  {
    "id": 1,
    "text": "ä¸€èµ·è¿‡ç”Ÿæ—¥"
  },
  {
    "id": 2,
    "text": "ä¸€èµ·å»æ—…è¡Œ"
  },
  {
    "id": 3,
    "text": "ä¸€èµ·è¿‡æƒ…äººèŠ‚"
  },
  {
    "id": 4,
    "text": "ä¸€èµ·åƒæµ·åº•æ"
  },
  {
    "id": 5,
    "text": "ä¸€èµ·åŠå¨ƒå¨ƒ"
  },
  {
    "id": 6,
    "text": "ä¸€èµ·å»æµ·è¾¹"
  },
  {
    "id": 7,
    "text": "ä¸€èµ·å›è€å®¶"
  },
  {
    "id": 8,
    "text": "ä¸€èµ·çœ‹ç”µå½±"
  },
  {
    "id": 9,
    "text": "ä¸€èµ·å¤§æ‰«é™¤"
  },
  {
    "id": 10,
    "text": "ä¸€èµ·ç©¿æƒ…ä¾£è£…"
  },
  {
    "id": 11,
    "text": "ä¸€èµ·åƒç«é”…"
  },
  {
    "id": 12,
    "text": "ä¸€èµ·åƒçƒ¤è‚‰"
  },
  {
    "id": 13,
    "text": "ä¸€èµ·åƒçƒ¤é±¼"
  },
  {
    "id": 14,
    "text": "ä¸€èµ·åƒå®µå¤œ"
  },
  {
    "id": 15,
    "text": "ä¸€èµ·æ‰“ç¾½æ¯›çƒ"
  },
  {
    "id": 16,
    "text": "ä¸€èµ·é€›èœå¸‚åœº"
  },
  {
    "id": 17,
    "text": "ä¸€èµ·åšé¥­"
  },
  {
    "id": 18,
    "text": "ä¸€èµ·è·‘æ­¥"
  },
  {
    "id": 19,
    "text": "ä¸€èµ·æ¬å®¶"
  },
  {
    "id": 20,
    "text": "ä¸€èµ·å»æ¸¸ä¹å›­"
  },
  {
    "id": 21,
    "text": "ä¸€èµ·åˆ¶ä½œä¸“å±ç›¸å†Œ"
  },
  {
    "id": 22,
    "text": "ä¸€èµ·ç”¨æƒ…ä¾£æ‰‹æœºå£³"
  },
  {
    "id": 23,
    "text": "ä¸€èµ·ç”¨å‹ºå­åƒè¥¿ç“œ"
  },
  {
    "id": 24,
    "text": "ä¸€èµ·å‘æœ‹å‹åœˆåˆç…§"
  },
  {
    "id": 25,
    "text": "ä¸€èµ·æµ·è¾¹çœ‹æ—¥è½"
  },
  {
    "id": 26,
    "text": "ä¸€èµ·æ‹æ—¥å¸¸vlog"
  },
  {
    "id": 27,
    "text": "ä¸€èµ·åº†ç¥çºªå¿µæ—¥"
  },
  {
    "id": 28,
    "text": "ä¸€èµ·æ™šé¥­åæ•£æ­¥"
  },
  {
    "id": 29,
    "text": "ä¸€èµ·è·Ÿæœ‹å‹åƒé¥­"
  },
  {
    "id": 30,
    "text": "ä¸€èµ·æ¢æƒ…ä¾£å¤´åƒ"
  },
  {
    "id": 31,
    "text": "ä¸€èµ·ç©äº”å­æ£‹"
  },
  {
    "id": 32,
    "text": "ä¸€èµ·éª‘ç”µåŠ¨è½¦"
  },
  {
    "id": 33,
    "text": "ä¸€èµ·å»å°åƒè¡—"
  },
  {
    "id": 34,
    "text": "ä¸€èµ·è‡ªé©¾æ¸¸"
  },
  {
    "id": 35,
    "text": "ä¸€èµ·æ‰“ç”µåŠ¨"
  },
  {
    "id": 36,
    "text": "ä¸€èµ·ç©æ¸¸æˆ"
  },
  {
    "id": 37,
    "text": "ä¸€èµ·çœ‹çƒèµ›"
  },
  {
    "id": 38,
    "text": "ä¸€èµ·å‰ªå¤´å‘"
  },
  {
    "id": 39,
    "text": "ä¸€èµ·åˆ®å½©ç¥¨"
  },
  {
    "id": 40,
    "text": "ä¸€èµ·é€›è¶…å¸‚"
  },
  {
    "id": 41,
    "text": "ä¸€èµ·ä¹°å®¶å…·"
  },
  {
    "id": 42,
    "text": "ä¸€èµ·æ‰“æ‰‘å…‹"
  },
  {
    "id": 43,
    "text": "ä¸€èµ·è·¨å¹´"
  },
  {
    "id": 44,
    "text": "ä¸€èµ·å¥èº«"
  },
  {
    "id": 45,
    "text": "ä¸€èµ·åˆ’èˆ¹"
  },
  {
    "id": 46,
    "text": "ä¸€èµ·èµèŠ±"
  },
  {
    "id": 47,
    "text": "ä¸€èµ·ç†¬å¤œ"
  },
  {
    "id": 48,
    "text": "ä¸€èµ·ç§æ¤ç‰©"
  },
  {
    "id": 49,
    "text": "ä»‹ç»ç»™å½¼æ­¤çš„æœ‹å‹"
  },
  {
    "id": 50,
    "text": "ç»™å¯¹æ–¹å‡†å¤‡ç¤¼ç‰©"
  },
  {
    "id": 51,
    "text": "éš¾è¿‡æ—¶çš„é™ªä¼´"
  },
  {
    "id": 52,
    "text": "ç»™æˆ‘å¹å¤´å‘"
  },
  {
    "id": 53,
    "text": "ç»™æˆ‘ç©¿é‹"
  },
  {
    "id": 54,
    "text": "ç…§é¡¾å¯¹æ–¹"
  },
  {
    "id": 55,
    "text": "é™ªæˆ‘åšç¾ç”²"
  },
  {
    "id": 56,
    "text": "æ¥æˆ‘ä¸‹ç­"
  },
  {
    "id": 57,
    "text": "æ‹¥æœ‰è½¦å­"
  },
  {
    "id": 58,
    "text": "ç»™æˆ‘é€èŠ±"
  },
  {
    "id": 59,
    "text": "åµæ¶"
  },
  {
    "id": 60,
    "text": "ä¸€èµ·å‚åŠ åˆ«äººçš„å©šç¤¼"
  },
  {
    "id": 61,
    "text": "ä¸€èµ·å»å¬ä¸€åœºæ¼”å”±ä¼š"
  },
  {
    "id": 62,
    "text": "ä¸€èµ·å»å†œåœºæ‘˜æ°´æœ"
  },
  {
    "id": 63,
    "text": "ä¸€èµ·é€›ç›’é©¬ç”Ÿé²œ"
  },
  {
    "id": 64,
    "text": "ä¸€èµ·é€›èŠ±é¸Ÿå¸‚åœº"
  },
  {
    "id": 65,
    "text": "ä¸€èµ·æ‹æƒ…ä¾£å†™çœŸ"
  },
  {
    "id": 66,
    "text": "ä¸€èµ·å»å—å±±ç¥ˆç¦"
  },
  {
    "id": 67,
    "text": "ä¸€èµ·å»æ°´ä¸Šä¹å›­"
  },
  {
    "id": 68,
    "text": "ä¸€èµ·æµ·è¾¹çœ‹æ—¥å‡º"
  },
  {
    "id": 69,
    "text": "ä¸€èµ·åç»¿çš®ç«è½¦"
  },
  {
    "id": 70,
    "text": "ä¸€èµ·å»å¤©æ¶¯æµ·è§’"
  },
  {
    "id": 71,
    "text": "ä¸€èµ·å»è¿ªå£«å°¼"
  },
  {
    "id": 72,
    "text": "ä¸€èµ·æ”¾å­”æ˜ç¯"
  },
  {
    "id": 73,
    "text": "ä¸€èµ·æˆ·å¤–çƒ§çƒ¤"
  },
  {
    "id": 74,
    "text": "ä¸€èµ·éƒŠæ¸¸è¸é’"
  },
  {
    "id": 75,
    "text": "ä¸€èµ·åç›´å‡æœº"
  },
  {
    "id": 76,
    "text": "ä¸€èµ·å»æ¤ç‰©å›­"
  },
  {
    "id": 77,
    "text": "ä¸€èµ·å»åŠ¨ç‰©å›­"
  },
  {
    "id": 78,
    "text": "ä¸€èµ·åé£æœº"
  },
  {
    "id": 79,
    "text": "ä¸€èµ·ä½æ°‘å®¿"
  },
  {
    "id": 80,
    "text": "ä¸€èµ·å»ä½“æ£€"
  },
  {
    "id": 81,
    "text": "ä¸€èµ·çœ‹çƒŸèŠ±"
  },
  {
    "id": 82,
    "text": "ä¸€èµ·æ‰“é›ªä»—"
  },
  {
    "id": 83,
    "text": "ä¸€èµ·æ•·é¢è†œ"
  },
  {
    "id": 84,
    "text": "ä¸€èµ·åç¼†è½¦"
  },
  {
    "id": 85,
    "text": "ä¸€èµ·Kæ­Œ"
  },
  {
    "id": 86,
    "text": "ä¸€èµ·é’“é±¼"
  },
  {
    "id": 87,
    "text": "ä¸€èµ·æ½œæ°´"
  },
  {
    "id": 88,
    "text": "ä¸€èµ·å†²æµª"
  },
  {
    "id": 89,
    "text": "ä¸€èµ·éœ²è¥"
  },
  {
    "id": 90,
    "text": "ä¸€èµ·çˆ¬å±±"
  },
  {
    "id": 91,
    "text": "ä¸€èµ·æ¼‚æµ"
  },
  {
    "id": 92,
    "text": "ä¸€èµ·å–é…’"
  },
  {
    "id": 93,
    "text": "ä¸€èµ·æ³¡è„š"
  },
  {
    "id": 94,
    "text": "ä¸€èµ·è§å¯¹æ–¹çˆ¶æ¯"
  },
  {
    "id": 95,
    "text": "ä¸€èµ·å‡ºå›½æ—…æ¸¸"
  },
  {
    "id": 96,
    "text": "ä¸€èµ·é¢†ç»“å©šè¯"
  },
  {
    "id": 97,
    "text": "ä¸€èµ·ä¹°æˆ¿å­"
  },
  {
    "id": 98,
    "text": "ä¸€èµ·ç»“å©š"
  },
  {
    "id": 99,
    "text": "ä¸€èµ·ç”Ÿå¨ƒ"
  },
  {
    "id": 100,
    "text": "ä¸€èµ·ç™½å¤´å•è€"
  }
]
  </script>

  <script>
    const STORAGE_KEY = "guoguoandmiemie_future_checks_v1";

    function loadChecks() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) return {};
        const obj = JSON.parse(raw);
        return (obj && typeof obj === "object") ? obj : {};
      } catch (e) {
        return {};
      }
    }

    function saveChecks(map) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(map));
      toast("å·²ä¿å­˜ âœ…");
    }

    function toast(msg) {
      const t = document.getElementById("toast");
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(()=>t.classList.remove("show"), 1200);
    }

    function percent(n, d) {
      if (!d) return 0;
      return Math.round((n / d) * 100);
    }

    const data = JSON.parse(document.getElementById("futureData").textContent);
    let checks = loadChecks();
    let filter = "all";

    const elList = document.getElementById("list");
    const elQ = document.getElementById("q");
    const elBar = document.getElementById("barFill");
    const elPL = document.getElementById("pLeft");
    const elPR = document.getElementById("pRight");

    function getDoneCount() {
      return data.filter(x => checks[String(x.id)]).length;
    }

    function updateProgress() {
      const done = getDoneCount();
      const p = percent(done, data.length);
      elBar.style.width = p + "%";
      elPL.textContent = `å·²å®Œæˆ ${done} / ${data.length}`;
      elPR.textContent = `å®Œæˆç‡ ${p}%`;
    }

    function matches(item, q) {
      if (!q) return true;
      const s = (item.text || "").toLowerCase();
      return s.includes(q.toLowerCase());
    }

    function passesFilter(item) {
      const done = !!checks[String(item.id)];
      if (filter === "done") return done;
      if (filter === "todo") return !done;
      return true;
    }

    function render() {
      const q = elQ.value.trim();
      elList.innerHTML = "";
      const frag = document.createDocumentFragment();

      data.forEach(item => {
        if (!matches(item, q)) return;
        if (!passesFilter(item)) return;

        const done = !!checks[String(item.id)];
        const card = document.createElement("div");
        card.className = "card";

        card.innerHTML = `
          <div class="num">${item.id}</div>
          <div class="main">
            <label class="label">
              <input type="checkbox" data-id="${item.id}" ${done ? "checked" : ""} />
              <div class="text">${item.text}</div>
            </label>
            <div class="muted">${done ? "å·²å®Œæˆ âœ…" : "æœªå®Œæˆ"}</div>
          </div>
        `;
        frag.appendChild(card);
      });

      elList.appendChild(frag);
      updateProgress();
    }

    elList.addEventListener("change", (e) => {
      const t = e.target;
      if (t && t.matches("input[type=checkbox][data-id]")) {
        const id = t.getAttribute("data-id");
        if (t.checked) {
          checks[id] = true;
        } else {
          delete checks[id];
        }
        saveChecks(checks);
        render();
      }
    });

    document.querySelectorAll(".seg button").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".seg button").forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        filter = btn.dataset.filter;
        render();
      });
    });

    elQ.addEventListener("input", () => render());

    document.getElementById("btnExport").addEventListener("click", () => {
      const payload = {
        exportedAt: new Date().toISOString(),
        checks
      };
      const blob = new Blob([JSON.stringify(payload, null, 2)], {type: "application/json"});
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "guoguoandmiemie-æ‰“å¡100-å¤‡ä»½.json";
      document.body.appendChild(a);
      a.click();
      a.remove();
      toast("å·²å¯¼å‡ºå¤‡ä»½");
    });

    const filePick = document.getElementById("filePick");
    document.getElementById("btnImport").addEventListener("click", () => {
      filePick.value = "";
      filePick.click();
    });

    filePick.addEventListener("change", async () => {
      const file = filePick.files && filePick.files[0];
      if (!file) return;
      try {
        const text = await file.text();
        const obj = JSON.parse(text);
        if (!obj || typeof obj !== "object" || !obj.checks) {
          toast("å¤‡ä»½æ ¼å¼ä¸å¯¹");
          return;
        }
        checks = obj.checks;
        saveChecks(checks);
        toast("å·²å¯¼å…¥å¤‡ä»½ âœ…");
        render();
      } catch (e) {
        toast("å¯¼å…¥å¤±è´¥");
      }
    });

    document.getElementById("btnReset").addEventListener("click", () => {
      if (!confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å‹¾é€‰å—ï¼Ÿ")) return;
      checks = {};
      saveChecks(checks);
      render();
    });

    render();
  </script>
</body>
</html>
